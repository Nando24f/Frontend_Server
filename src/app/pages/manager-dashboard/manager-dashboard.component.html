<app-manager-dashboard>
  <div class="dashboard-container">
  <h1>Manager Dashboard</h1>

  <!-- Dropdown para seleccionar manager -->
  <div class="form-group">
    <label for="manager-select">Selecciona un Manager:</label>
    <select
      id="manager-select"
      class="form-control"
      [(ngModel)]="selectedManagerId"
      (change)="onManagerSelected()"
    >
      <option *ngFor="let manager of managers" [value]="manager.emp_no">
        {{ manager.manager_name }} ({{ manager.department }})
      </option>
    </select>
  </div>

  <!-- Mostrar conteo de empleados -->
  <div *ngIf="selectedManagerId" class="count-display">
    <p>La cantidad de personas que trabajan para el manager seleccionado son: <strong>{{ maleEmployeesCount }}</strong></p>
    <p>Total de empleados en la base de datos: <strong>{{ totalEmployees }}</strong></p>
  </div>

  <!-- Tabla de empleados -->
  <div *ngIf="employees.length > 0" class="table-container">
    <h2>Empleados Masculinos</h2>
    <table class="table">
      <thead>
        <tr>
          <th>ID</th>
          <th>Nombre</th>
          <th>Género</th>
          <th>Fecha de Contratación</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let emp of employees">
          <td>{{ emp.emp_no }}</td>
          <td>{{ emp.first_name }} {{ emp.last_name }}</td>
          <td>{{ emp.gender }}</td>
          <td>{{ emp.hire_date | date: 'dd/MM/yyyy' }}</td>
        </tr>
      </tbody>
    </table>
  </div>

  <!-- Gráficos -->
  <div class="charts-container">
    <div class="chart">
      <h3>Distribución de Empleados</h3>
      <canvas #totalEmployeesChart></canvas>
    </div>
    <div class="chart">
      <h3>Empleados por Manager</h3>
      <canvas #managerEmployeesChart></canvas>
    </div>
  </div>
</div>
</app-manager-dashboard>
